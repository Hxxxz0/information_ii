# 🎯 快速开始：在应用中设置 API Key

## ✅ 是的！现在可以在应用设置中配置 API Key

不需要手动创建 `.env.local` 文件，直接在应用界面中设置即可！

---

## 📍 5 步快速设置

### 1️⃣ 打开应用
访问 http://localhost:3000

### 2️⃣ 进入设置
点击应用中的 **设置 (Settings)** 图标

### 3️⃣ 选择 AI 提供商
在 "AI 提供商" 部分，选择：
- **Google Gemini** - 多模态理解
- **DeepSeek** - 高性能中文

### 4️⃣ 输入 API Key
在 "API 密钥" 部分输入您的 API key

**获取 API Key：**
- Gemini: https://aistudio.google.com/app/apikey
- DeepSeek: https://platform.deepseek.com/api_keys

### 5️⃣ 保存并刷新
点击 **"保存设置"**，页面会自动刷新

---

## 🎨 设置页面功能

### AI 提供商选择器
```
┌─────────────────────────────────────────┐
│  🤖 AI 提供商                           │
├─────────────────────────────────────────┤
│                                         │
│  ┌──────────────┐  ┌──────────────┐   │
│  │ Google       │  │ DeepSeek     │   │
│  │ Gemini       │  │              │   │
│  │ ✓ 当前选择   │  │              │   │
│  └──────────────┘  └──────────────┘   │
│                                         │
└─────────────────────────────────────────┘
```

### API 密钥输入
```
┌─────────────────────────────────────────┐
│  🔑 API 密钥                            │
├─────────────────────────────────────────┤
│                                         │
│  Gemini API 密钥 (当前使用)             │
│  ┌─────────────────────────────────┐   │
│  │ ••••••••••••••••••••••••••••••  │   │
│  └─────────────────────────────────┘   │
│  从 Google AI Studio 获取               │
│                                         │
│  DeepSeek API 密钥                      │
│  ┌─────────────────────────────────┐   │
│  │ 输入你的 DeepSeek API 密钥...   │   │
│  └─────────────────────────────────┘   │
│  从 DeepSeek Platform 获取              │
│                                         │
│  ⚠️ API 密钥将存储在浏览器本地          │
│                                         │
└─────────────────────────────────────────┘
```

---

## 🔄 配置方式对比

### 方式 1: 应用内设置（推荐）⭐
```
优点：
✅ 无需创建文件
✅ 可视化界面
✅ 随时修改
✅ 立即生效（刷新后）

缺点：
⚠️ 存储在浏览器
⚠️ 清除数据会丢失
```

### 方式 2: .env.local 文件
```
优点：
✅ 更安全
✅ 不会丢失
✅ 适合团队

缺点：
⚠️ 需要手动创建
⚠️ 需要重启服务器
```

---

## 💾 数据存储

### 应用内设置存储位置：
```javascript
// 浏览器 localStorage
localStorage.setItem('geminiApiKey', 'your_key');
localStorage.setItem('deepseekApiKey', 'your_key');
localStorage.setItem('aiProvider', 'gemini');
```

### 优先级：
```
1. localStorage (应用内设置) - 最高优先级
2. 环境变量 (.env.local)    - 备用方案
```

---

## 🎬 使用流程

```
开始
  ↓
打开应用 (http://localhost:3000)
  ↓
点击设置图标
  ↓
选择 AI 提供商 (Gemini/DeepSeek)
  ↓
输入 API Key
  ↓
点击"保存设置"
  ↓
等待自动刷新
  ↓
开始使用 AI 功能！
```

---

## 🔍 验证配置

### 检查是否配置成功：

1. **查看聊天界面**
   - 不应该显示 "演示模式" 提示
   - 应该能正常发送消息

2. **检查控制台**
   ```javascript
   // 按 F12 打开控制台，输入：
   console.log('当前提供商:', localStorage.getItem('aiProvider'));
   console.log('Gemini Key:', localStorage.getItem('geminiApiKey') ? '已配置' : '未配置');
   console.log('DeepSeek Key:', localStorage.getItem('deepseekApiKey') ? '已配置' : '未配置');
   ```

3. **测试 AI 功能**
   - 打开 "作业助手"
   - 发送一条消息
   - 应该收到 AI 回复

---

## 🎯 常见场景

### 场景 1: 首次使用
```
1. 打开应用
2. 进入设置
3. 选择 Gemini
4. 输入 Gemini API Key
5. 保存
6. 开始使用
```

### 场景 2: 切换到 DeepSeek
```
1. 进入设置
2. 选择 DeepSeek
3. 输入 DeepSeek API Key
4. 保存
5. 自动切换
```

### 场景 3: 同时配置两个
```
1. 进入设置
2. 输入 Gemini API Key
3. 输入 DeepSeek API Key
4. 选择想用的提供商
5. 保存
6. 随时可以切换
```

---

## ⚡ 快捷提示

### 💡 提示 1: 无需重启
保存后会自动刷新，无需手动重启开发服务器

### 💡 提示 2: 可以切换
配置好两个 API key 后，可以随时在设置中切换

### 💡 提示 3: 安全存储
API key 只存储在您的浏览器中，不会上传

### 💡 提示 4: 优先级
应用内设置会覆盖 .env.local 中的配置

---

## 📱 界面位置

### 如何找到设置：
1. **Dock 栏**（底部）
2. **设置图标**（齿轮图标）
3. 或在应用菜单中找到 "Settings"

### 设置页面包含：
- 🤖 AI 提供商选择
- 🔑 API 密钥配置
- 🔔 通知设置
- 🎨 主题设置
- ℹ️ 关于信息

---

## 🎊 开始使用

**现在就试试吧！**

1. 访问 http://localhost:3000
2. 点击设置
3. 配置您的 API Key
4. 享受 AI 助手功能！

详细指南请查看：[IN_APP_API_SETUP.md](./IN_APP_API_SETUP.md)
